(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t){},133:function(e,t){},140:function(e,t){},142:function(e,t){},178:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(35),a=c.n(r),s=(c(81),c(4)),i=(c(85),c(86),c(15)),l=c(5),o=c(14),d=c.n(o),j=(c(104),c(0));function u(){var e=Object(s.c)((function(e){return e.cartReducer})).cartItems,t=JSON.parse(localStorage.getItem("currentUser")),c=Object(s.b)();return Object(j.jsx)("div",{children:Object(j.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)("a",{className:"navbar-brand",href:"/",children:"E-Cart"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(j.jsxs)("div",{className:"navbar-nav ml-auto ",children:[t?Object(j.jsxs)("div",{className:"dropdown",children:[Object(j.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:t.name}),Object(j.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(j.jsx)("a",{className:"dropdown-item",href:"/profile",children:"Profile"}),Object(j.jsx)("a",{className:"dropdown-item",href:"/orders",children:"Orders"}),Object(j.jsx)("li",{className:"dropdown-item",onClick:function(){c((function(e){localStorage.removeItem("currentUser"),localStorage.removeItem("cartItems"),e({type:"USER_LOGOUT"}),window.location.href="/login"}))},children:"Logout"})]})]}):Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),Object(j.jsx)("li",{className:"nav-item ",children:Object(j.jsxs)("a",{className:"nav-link",href:"/cart",tabindex:"-1","aria-disabled":"true",children:[Object(j.jsx)("i",{className:"fas fa-shopping-cart"}),e.length]})})]})})]})})})}c(175);function b(e){var t=e.product;return Object(j.jsx)("div",{className:"text-left",children:Object(j.jsx)("div",{children:Object(j.jsxs)(i.b,{to:"product/".concat(t._id),children:[Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{src:t.image,className:"img-fluid"})}),Object(j.jsx)("h1",{children:t.name}),Object(j.jsxs)("h1",{children:["Rating:",t.rating]}),Object(j.jsxs)("h1",{children:["Price : ",t.price]})]})})})}function O(){return Object(j.jsx)("div",{className:" mt-5",children:Object(j.jsx)("div",{className:"spinner-border mt-5",role:"status",style:{width:"100px",height:"100px"},children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})}function h(e){var t=e.error;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})})}var m=c(8);function p(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)("popular"),i=Object(m.a)(a,2),l=i[0],o=i[1],u=Object(n.useState)("all"),b=Object(m.a)(u,2),O=b[0],h=b[1],p=Object(s.b)();return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"row justify-content-center",children:[Object(j.jsx)("div",{className:"col-md-4 mt-2 ml-2",children:Object(j.jsx)("input",{value:c,onChange:function(e){r(e.target.value)},type:"text",placeholder:"search products",className:"form-control"})}),Object(j.jsx)("div",{className:"col-md-2 mt-4 ml-2",children:Object(j.jsxs)("select",{className:"form-control",value:l,onChange:function(e){o(e.target.value)},children:[Object(j.jsx)("option",{value:"popular",children:"Popular"}),Object(j.jsx)("option",{value:"htl",children:"High To Low"}),Object(j.jsx)("option",{value:"lth",children:"Low To High"})]})}),Object(j.jsx)("div",{className:"col-md-2 mt-4 ml-2",children:Object(j.jsxs)("select",{className:"form-control",value:O,onChange:function(e){h(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"All"}),Object(j.jsx)("option",{value:"electronics",children:"Electronics"}),Object(j.jsx)("option",{value:"fashion",children:"fashion"}),Object(j.jsx)("option",{value:"mobiles",children:"mobiles"})]})}),Object(j.jsx)("div",{className:"col-md-2 mt-4 ml-2",children:Object(j.jsx)("button",{className:"btn",onClick:function(){p(function(e,t,c){return function(n){var r;n({type:"GET_PRODUCTS_REQUEST"}),d.a.get("/api/products/getallproducts").then((function(a){r=a.data,e&&(r=a.data.filter((function(t){return t.name.toLowerCase().includes(e)}))),"popular"!==t&&(r="htl"==t?a.data.sort((function(e,t){return-e.price+t.price})):a.data.sort((function(e,t){return e.price-t.price}))),"all"!==c&&(r=a.data.filter((function(e){return e.category.toLowerCase().includes(c)}))),n({type:"GET_PRODUCTS_SUCCESS",payload:r})})).catch((function(e){n({type:"GET_PRODUCTS_FAILED"})}))}}(c,l,O))},children:"FILTER"})})]})})}function x(){var e=Object(s.c)((function(e){return e.getAllProductsReducer})),t=e.loading,c=e.products,r=e.error,a=Object(s.b)();return Object(n.useEffect)((function(){a((function(e){e({type:"GET_PRODUCTS_REQUEST"}),d.a.get("/api/products/getallproducts").then((function(t){console.log(t),e({type:"GET_PRODUCTS_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e({type:"GET_PRODUCTS_FAILED",payload:t})}))}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(p,{}),Object(j.jsx)("div",{className:"row justify-content-center",children:t?Object(j.jsx)(O,{}):r?Object(j.jsx)(h,{error:"something went wrong..."}):c.map((function(e){return Object(j.jsx)("div",{className:"col-md-3 m-2 p-2 card",children:Object(j.jsx)(b,{product:e})})}))})]})}var f=c(21),g=function(e,t){return function(c,n){c({type:"ADD_TO_CART",payload:{name:e.name,_id:e._id,price:e.price,countInStock:e.countInStock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cartReducer.cartItems))}};function v(e){var t=e.match.params.id,c=Object(s.b)(),r=Object(n.useState)(1),a=Object(m.a)(r,2),i=a[0],l=a[1],o=Object(s.c)((function(e){return e.getProductByIdReducer})),u=o.product,b=o.loading,p=o.error;return Object(n.useEffect)((function(){c(function(e){return function(t){t({type:"GET_PRODUCTBYID_REQUEST"}),d.a.post("/api/products/getproductbyid",{productid:e}).then((function(e){console.log(e),t({type:"GET_PRODUCTBYID_SUCCESS",payload:e.data})})).catch((function(e){console.log(e),t({type:"GET_PRODUCTBYID_FAILED",payload:e})}))}}(t))}),[]),Object(j.jsx)("div",{children:b?Object(j.jsx)(O,{}):p?Object(j.jsx)(h,{error:"something went wrong..."}):Object(j.jsxs)("div",{className:"row mt-4",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{className:"card p-2 m-4",children:[Object(j.jsx)("h1",{children:u.name}),Object(j.jsx)("img",{src:u.image,className:"img-fluid m-3 bigimg"}),Object(j.jsx)("p",{children:u.description})]})}),Object(j.jsx)("div",{className:"col-md-6 text-start",children:Object(j.jsxs)("div",{className:"m-2",children:[Object(j.jsxs)("h1",{children:["Price: ",u.price]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h1",{children:"Select Quantity"}),Object(j.jsx)("select",{value:i,onChange:function(e){l(e.target.value)},children:Object(f.a)(Array(u.countInStock).keys()).map((function(e,t){return Object(j.jsx)("option",{value:t+1,children:t+1})}))}),Object(j.jsx)("hr",{}),Object(j.jsx)("button",{className:"btn btn-dark",onClick:function(){c(g(u,i))},children:"Add To Cart"})]})})]})})}var E=c(74),S=c.n(E);function R(e){var t=e.amount,c=Object(s.b)();return Object(j.jsx)("div",{children:Object(j.jsx)(S.a,{token:function(e){c(function(e,t){return function(c,n){var r=n().loginReducer.currentUser,a=n().cartReducer.cartItems;c({type:"PLACE_ORDER_REQUEST"}),d.a.post("/api/orders/placeorder",{token:e,subtotal:t,currentUser:r,cartItems:a}).then((function(e){c({type:"PLACE_ORDER_SUCCESS"}),console.log(e)})).catch((function(e){c({type:"PLACE_ORDER_FAILED"})}))}}(e,t))},amount:100*t,shippingAddress:!0,currency:"INR",stripeKey:"pk_test_51J0QAKSCZCeqbOTwKXSEvEZt9rSlQUSicMudJT5Mx01ocyX0L0flmz5QYmKNYj5Yqd341iYfJEsgbeoszlw18Esv00nYkNtqDd",children:Object(j.jsx)("button",{className:"btn",children:"PAY NOW"})})})}function y(){var e=Object(s.c)((function(e){return e.cartReducer})),t=Object(s.b)(),c=e.cartItems,n=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row mt-3 justify-content-center",children:Object(j.jsxs)("div",{className:"col-md-8 card",children:[Object(j.jsx)("h1",{className:"text-center m-5",children:"MY CART"}),Object(j.jsxs)("table",{className:"table table-bordered",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Quantity"}),Object(j.jsx)("th",{children:"Total Price"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.price}),Object(j.jsx)("td",{children:Object(j.jsx)("select",{value:e.quantity,onChange:function(c){t(g(e,c.target.value))},children:Object(f.a)(Array(e.countInStock).keys()).map((function(e,t){return Object(j.jsx)("option",{value:t+1,children:t+1})}))})}),Object(j.jsx)("td",{children:e.quantity*e.price}),Object(j.jsx)("td",{children:Object(j.jsx)("i",{className:"far fa-trash-alt",onClick:function(){t(function(e){return function(t){t({type:"DELETE_FROM_CART",payload:e})}}(e))}})})]})}))})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("h2",{className:"text-center",children:["subtotal:",n," RS/-"]}),Object(j.jsx)("hr",{}),Object(j.jsx)(R,{amount:n})]})})})}function N(e){var t=e.success;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"alert alert-success",role:"alert",children:t})})}function _(){var e=Object(s.c)((function(e){return e.registerNewUserReducer})),t=e.loading,c=e.error,r=e.success,a=Object(n.useState)(""),i=Object(m.a)(a,2),l=i[0],o=i[1],u=Object(n.useState)(""),b=Object(m.a)(u,2),p=b[0],x=b[1],f=Object(n.useState)(""),g=Object(m.a)(f,2),v=g[0],E=g[1],S=Object(n.useState)(""),R=Object(m.a)(S,2),y=R[0],_=R[1],T=Object(s.b)();return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-md-5 card p-3",style:{marginTop:"150px"},children:Object(j.jsxs)("div",{className:"div",children:[Object(j.jsx)("h2",{className:"text-center m-3",children:"Register"}),t&&Object(j.jsx)(O,{}),c&&Object(j.jsx)(h,{error:"email address is already registred"}),r&&Object(j.jsx)(N,{success:"your registration successful"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v==y?T(function(e){return function(t){t({type:"USER_REGISTER_REQUEST"}),d.a.post("/api/users/register",e).then((function(e){t({type:"USER_REGISTER_SUCCESS"}),console.log(e)})).catch((function(e){t({type:"USER_REGISTER_FAILED",payload:e}),console.log(e)}))}}({name:l,email:p,password:v})):alert("Passwords not matched")},children:[Object(j.jsx)("input",{type:"text",required:!0,placeholder:"name",className:"form-control",value:l,onChange:function(e){o(e.target.value)}}),Object(j.jsx)("input",{type:"text",required:!0,placeholder:"email",className:"form-control",value:p,onChange:function(e){x(e.target.value)}}),Object(j.jsx)("input",{type:"text",required:!0,placeholder:"password",className:"form-control",value:v,onChange:function(e){E(e.target.value)}}),Object(j.jsx)("input",{type:"text",required:!0,placeholder:"confirm password",className:"form-control",value:y,onChange:function(e){_(e.target.value)}}),Object(j.jsx)("div",{className:"text-end",children:Object(j.jsx)("button",{type:"submit",className:"btn mt-3",children:"REGISTER"})})]}),Object(j.jsx)("a",{href:"/login",children:"click Here To Login"})]})})})})}function T(){var e=Object(s.c)((function(e){return e.loginReducer})),t=e.loading,c=e.error,r=Object(n.useState)(""),a=Object(m.a)(r,2),i=a[0],l=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),b=u[0],p=u[1],x=Object(s.b)();return Object(n.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-md-4 card p-3",style:{marginTop:"150px"},children:Object(j.jsxs)("div",{className:"div",children:[Object(j.jsx)("h2",{className:"text-center m-3",children:"Login"}),c&&Object(j.jsx)(h,{error:"Invalid credentials"}),t&&Object(j.jsx)(O,{}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(function(e){return function(t){t({type:"USER_LOGIN_REQUEST"}),d.a.post("/api/users/login",e).then((function(e){t({type:"USER_LOGIN_SUCCESS"}),localStorage.setItem("currentUser",JSON.stringify(e.data)),window.location.href="/"})).catch((function(e){t({type:"USER_LOGIN_FAILED",payload:e}),console.log(e)}))}}({email:i,password:b}))},children:[Object(j.jsx)("input",{type:"text",required:!0,placeholder:"email",className:"form-control",value:i,onChange:function(e){l(e.target.value)}}),Object(j.jsx)("input",{type:"text",required:!0,placeholder:"password",className:"form-control",value:b,onChange:function(e){p(e.target.value)}}),Object(j.jsx)("div",{className:"text-end",children:Object(j.jsx)("button",{type:"submit",className:"btn mt-3",children:"LOGIN"})})]}),Object(j.jsx)("a",{href:"/register",className:"m-3",children:"Click Here To Register"})]})})})})}function C(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Userslist"})})}function I(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"order list"})})}function U(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Addproduct"})})}function w(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Products     list  Products     list  Products     list"})})}function D(){return Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"row justify-content-center mt-5",children:Object(j.jsxs)("div",{className:"col-md-10",children:[Object(j.jsxs)("ul",{className:"admin p-2",children:[Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/admin/userslist",style:{color:"black"},children:"Userslist"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/admin/productslist",style:{color:"black"},children:"Products list"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/admin/addnewproduct",style:{color:"black"},children:"Add new product"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/admin/orderslist",style:{color:"black"},children:"Orderslist"})})]}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/admin/userslist",children:Object(j.jsx)(C,{})}),Object(j.jsx)(l.a,{exact:!0,path:"/admin/orderslist",component:I}),Object(j.jsx)(l.a,{exact:!0,path:"/admin/addnewproduct",component:U}),Object(j.jsx)(l.a,{exact:!0,path:"/admin/productslist",component:w})]})]})})})})}var L=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(l.a,{exact:!0,path:"/",component:x}),Object(j.jsx)(l.a,{exact:!0,path:"/product/:id",component:v}),Object(j.jsx)(l.a,{exact:!0,path:"/cart",component:y}),Object(j.jsx)(l.a,{exact:!0,path:"/register",component:_}),Object(j.jsx)(l.a,{exact:!0,path:"/login",component:T}),Object(j.jsx)(l.a,{exact:!0,path:"/admin",component:D})]})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,179)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},A=c(3),G=c(75),k=c(22),F=c(76),Q=Object(k.combineReducers)({getAllProductsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_REQUEST":return{loading:!0};case"GET_PRODUCTS_SUCCESS":return{products:t.payload,loading:!1};case"GET_PRODUCTS_FAILED":return{error:t.payload,loading:!1};default:return e}},getProductByIdReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTBYID_REQUEST":return{loading:!0};case"GET_PRODUCTBYID_SUCCESS":return{product:t.payload,loading:!1};case"GET_PRODUCTBYID_FAILED":return{error:t.payload,loading:!1};default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var c=e.cartItems.find((function(e){return e._id==t.payload._id}));return c?Object(A.a)(Object(A.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id==t.payload._id?t.payload:e}))}):Object(A.a)(Object(A.a)({},e),{},{cartItems:[].concat(Object(f.a)(e.cartItems),[t.payload])});case"DELETE_FROM_CART":return Object(A.a)(Object(A.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload._id}))});default:return e}},registerNewUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,success:!0});case"USER_REGISTER_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loading:!0,error:"User Already Registred"});default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,success:!0});case"USER_LOGIN_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,error:"invalid credintial"});case"USER_LOGOUT":return Object(A.a)({},e);default:return e}},placeOrderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLACE_ORDER_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"PLACE_ORDER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,success:!0});case"PLACE_ORDER_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,error:!0});default:return{state:e}}}}),q={cartReducer:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},loginReducer:{currentUser:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}},Y=Object(F.composeWithDevTools)({}),B=Object(k.createStore)(Q,q,Y(Object(k.applyMiddleware)(G.a)));c(71),c(177),c(72);a.a.render(Object(j.jsx)(s.a,{store:B,children:Object(j.jsx)(L,{})}),document.getElementById("root")),P()},81:function(e,t,c){},85:function(e,t,c){}},[[178,1,2]]]);
//# sourceMappingURL=main.354ff0e9.chunk.js.map